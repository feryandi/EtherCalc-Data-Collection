// Generated by LiveScript 1.5.0
(function(){
  this.__MYSQL__ = null;
  this.include = function(){
    var db, env, ref$, mysqlPort, mysqlHost, mysqlPass, mysqlDb, dataDir, mysqlUser, mysqlDB, mysqlSetting, mysql, client;
    if (this.__MYSQL__) {
      return this.__MYSQL__;
    }
    db = {};
    env = process.env;
    ref$ = [env['MYSQL_PORT'], env['MYSQL_HOST'], env['MYSQL_PASS'], env['MYSQL_DB'], env['OPENSHIFT_DATA_DIR']], mysqlPort = ref$[0], mysqlHost = ref$[1], mysqlPass = ref$[2], mysqlDb = ref$[3], dataDir = ref$[4];
    mysqlHost == null && (mysqlHost = 'localhost');
    mysqlPort == null && (mysqlPort = 3306);
    mysqlUser == null && (mysqlUser = 'root');
    mysqlPass == null && (mysqlPass = 'root');
    mysqlDB == null && (mysqlDB = 'TA');
    mysqlSetting = {
      host: mysqlHost,
      user: mysqlUser,
      password: mysqlPass,
      database: mysqlDB
    };
    mysql = require('mysql');
    client = mysql.createConnection(mysqlSetting);
    client.connect(function(err){
      if (err) {
        console.log("MySQL error connecting: " + err + ".stack");
        return;
      }
      console.log("MySQL connected as id " + client + ".threadId");
    });
    dataDir == null && (dataDir = process.cwd());
    db.log = function(){
      console.log("MySQL OK");
    };
    db.test = function(){
      return client.query('CREATE TABLE pet (name VARCHAR(20), sex CHAR(1), birth DATE, death DATE)', function(error, results, fields){});
    };
    return this.__MYSQL__ = db;
  };
}).call(this);
